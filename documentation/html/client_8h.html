<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>System-calls-C-Operating-systems: client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">System-calls-C-Operating-systems
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">client.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Client header file.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="client_8h__dep__incl.png" border="0" usemap="#client_8hdep" alt=""/></div>
<map name="client_8hdep" id="client_8hdep">
<area shape="rect" title="Client header file." alt="" coords="5,5,76,32"/>
<area shape="rect" href="client_8c.html" title="Client program." alt="" coords="6,80,75,107"/>
</map>
</div>
</div>
<p><a href="client_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8c7084a254c7cd640d66e647795ff8f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a8c7084a254c7cd640d66e647795ff8f6">operazioni_client0</a> ()</td></tr>
<tr class="separator:a8c7084a254c7cd640d66e647795ff8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d605ff689f470746c858648f0a98c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a48d605ff689f470746c858648f0a98c2">SIGINTSignalHandler</a> (int sig)</td></tr>
<tr class="separator:a48d605ff689f470746c858648f0a98c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b22adcb76198fcd9402a97ff4711bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a50b22adcb76198fcd9402a97ff4711bf">SIGUSR1SignalHandler</a> (int sig)</td></tr>
<tr class="memdesc:a50b22adcb76198fcd9402a97ff4711bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">SIGUSR1 signal handler: closes client 0 resources and ends its execution.  <a href="client_8h.html#a50b22adcb76198fcd9402a97ff4711bf">More...</a><br /></td></tr>
<tr class="separator:a50b22adcb76198fcd9402a97ff4711bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55586f2b7e9b3620294cf78cda8abdad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a55586f2b7e9b3620294cf78cda8abdad">dividi</a> (int fd, char *buf, size_t count, char *filePath, int parte)</td></tr>
<tr class="memdesc:a55586f2b7e9b3620294cf78cda8abdad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Divides in 4 part the content of the file.  <a href="client_8h.html#a55586f2b7e9b3620294cf78cda8abdad">More...</a><br /></td></tr>
<tr class="separator:a55586f2b7e9b3620294cf78cda8abdad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54b47b58f228d7bc9827d2919687e25a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a54b47b58f228d7bc9827d2919687e25a">operazioni_figlio</a> (char *filePath)</td></tr>
<tr class="memdesc:a54b47b58f228d7bc9827d2919687e25a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function performed by each Client i (children of Client 0) to send files to the server.  <a href="client_8h.html#a54b47b58f228d7bc9827d2919687e25a">More...</a><br /></td></tr>
<tr class="separator:a54b47b58f228d7bc9827d2919687e25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a748983b7ce27515a3ad116ada4334c4e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a748983b7ce27515a3ad116ada4334c4e">int_to_string</a> (int value)</td></tr>
<tr class="separator:a748983b7ce27515a3ad116ada4334c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c711b3b2108bc5ddb5ceece99e0afa4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="client_8h.html#a0c711b3b2108bc5ddb5ceece99e0afa4">strEquals</a> (char *string1, char *string2)</td></tr>
<tr class="separator:a0c711b3b2108bc5ddb5ceece99e0afa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Client header file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a55586f2b7e9b3620294cf78cda8abdad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55586f2b7e9b3620294cf78cda8abdad">&#9670;&nbsp;</a></span>dividi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dividi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Divides in 4 part the content of the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor of the file to divide. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer to store the content of the file. </td></tr>
    <tr><td class="paramname">count</td><td>Number of bytes to read from the file. </td></tr>
    <tr><td class="paramname">filePath</td><td>Path of the file to divide. </td></tr>
    <tr><td class="paramname">parte</td><td>Number of the part to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a748983b7ce27515a3ad116ada4334c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a748983b7ce27515a3ad116ada4334c4e">&#9670;&nbsp;</a></span>int_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* int_to_string </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Converts integer to string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Integer to be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* String representation of the integer </dd></dl>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the path passed as a parameter, manages signals and handler, waits for SIGINT or SIGUSR1 signals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of arguments passed to the program </td></tr>
    <tr><td class="paramname">argv</td><td>Array of strings containing the arguments passed to the program </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Exit code of the whole program </dd></dl>

</div>
</div>
<a id="a8c7084a254c7cd640d66e647795ff8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7084a254c7cd640d66e647795ff8f6">&#9670;&nbsp;</a></span>operazioni_client0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operazioni_client0 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>They are not executed in SIGINTSignalHandler () for the following reason: <a href="https://man7.org/linux/man-pages/man7/signal-safety.7.html">https://man7.org/linux/man-pages/man7/signal-safety.7.html</a></p>
<dl class="section note"><dt>Note</dt><dd>Does client 0 have to wait for child processes? The specification only indicates that you have to wait for the end message from the server Currently, it first waits for the finish message and then all children are expected to finish. </dd></dl>

</div>
</div>
<a id="a54b47b58f228d7bc9827d2919687e25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54b47b58f228d7bc9827d2919687e25a">&#9670;&nbsp;</a></span>operazioni_figlio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void operazioni_figlio </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filePath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function performed by each Client i (children of Client 0) to send files to the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filePath</td><td>Path of the file to send. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48d605ff689f470746c858648f0a98c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d605ff689f470746c858648f0a98c2">&#9670;&nbsp;</a></span>SIGINTSignalHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SIGINTSignalHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SIGINT Handler.</p>
<p>It does nothing, it just allows the process to wake up from the pause ().</p>
<p>Core functionality is performed by client0 () operations and not here for the following reason: <a href="https://man7.org/linux/man-pages/man7/signal-safety.7.html">https://man7.org/linux/man-pages/man7/signal-safety.7.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>Integer value corresponding to SIGUSR1 </td></tr>
  </table>
  </dd>
</dl>
<p>When performing buffered I/O on a file, the stdio functions must maintain a statically allocated data buffer along with associated counters and indexes (or pointers) that record the amount of data and the current position in the buffer. Suppose that the main program is in the middle of a call to a stdio function such as printf(3) where the buffer and associated variables have been partially updated. If, at that moment, the program is interrupted by a signal handler that also calls printf(3), then the second call to printf(3) will operate on inconsistent data, with unpredictable results.</p>

</div>
</div>
<a id="a50b22adcb76198fcd9402a97ff4711bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b22adcb76198fcd9402a97ff4711bf">&#9670;&nbsp;</a></span>SIGUSR1SignalHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SIGUSR1SignalHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SIGUSR1 signal handler: closes client 0 resources and ends its execution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>Integer value corresponding to SIGUSR1 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0c711b3b2108bc5ddb5ceece99e0afa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c711b3b2108bc5ddb5ceece99e0afa4">&#9670;&nbsp;</a></span>strEquals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool strEquals </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return true if two string are equal</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string1</td><td>First string to compare </td></tr>
    <tr><td class="paramname">string2</td><td>Second string to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the two strings are equal, false otherwise </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>System-calls-C-Operating-systems: server.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">System-calls-C-Operating-systems
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the main function of the server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sys/msg.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &quot;<a class="el" href="err__exit_8h_source.html">err_exit.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shared__memory_8h_source.html">shared_memory.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="semaphore_8h_source.html">semaphore.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fifo_8h_source.html">fifo.h</a>&quot;</code><br />
<code>#include &quot;message_queue.h&quot;</code><br />
<code>#include &quot;<a class="el" href="server_8h_source.html">server.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for server.c:</div>
<div class="dyncontent">
<div class="center"><img src="server_8c__incl.png" border="0" usemap="#server_8c" alt=""/></div>
<map name="server_8c" id="server_8c">
<area shape="rect" title="Contains the main function of the server." alt="" coords="848,5,921,32"/>
<area shape="rect" title=" " alt="" coords="5,80,79,107"/>
<area shape="rect" title=" " alt="" coords="103,80,170,107"/>
<area shape="rect" title=" " alt="" coords="195,80,265,107"/>
<area shape="rect" title=" " alt="" coords="289,80,360,107"/>
<area shape="rect" title=" " alt="" coords="385,80,459,107"/>
<area shape="rect" title=" " alt="" coords="483,80,569,107"/>
<area shape="rect" title=" " alt="" coords="651,229,734,256"/>
<area shape="rect" title=" " alt="" coords="644,80,731,107"/>
<area shape="rect" title=" " alt="" coords="755,80,823,107"/>
<area shape="rect" title=" " alt="" coords="1271,155,1359,181"/>
<area shape="rect" title=" " alt="" coords="1583,229,1679,256"/>
<area shape="rect" title=" " alt="" coords="997,80,1060,107"/>
<area shape="rect" href="err__exit_8h.html" title="Contains functions to exit the program with an error message." alt="" coords="1084,80,1168,107"/>
<area shape="rect" href="defines_8h.html" title="Contains the definitions used in the program." alt="" coords="881,155,963,181"/>
<area shape="rect" href="shared__memory_8h.html" title="Shared memory functions." alt="" coords="1669,155,1807,181"/>
<area shape="rect" href="semaphore_8h.html" title="Semaphore functions." alt="" coords="1407,80,1514,107"/>
<area shape="rect" href="fifo_8h.html" title="Contains FIFO structs and functions." alt="" coords="1539,80,1593,107"/>
<area shape="rect" href="message__queue_8h_source.html" title=" " alt="" coords="1192,80,1332,107"/>
<area shape="rect" href="server_8h.html" title="Server functions and neccecary data structures from defines.h." alt="" coords="847,80,922,107"/>
<area shape="rect" title=" " alt="" coords="883,229,961,256"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a48d605ff689f470746c858648f0a98c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a48d605ff689f470746c858648f0a98c2">SIGINTSignalHandler</a> (int sig)</td></tr>
<tr class="memdesc:a48d605ff689f470746c858648f0a98c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">CLose all the IPCs and exit the program.  <a href="server_8c.html#a48d605ff689f470746c858648f0a98c2">More...</a><br /></td></tr>
<tr class="separator:a48d605ff689f470746c858648f0a98c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53aa0eb44ad55d2e189f18d3bd6017b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ab53aa0eb44ad55d2e189f18d3bd6017b">string_to_int</a> (char *string)</td></tr>
<tr class="memdesc:ab53aa0eb44ad55d2e189f18d3bd6017b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string to int.  <a href="server_8c.html#ab53aa0eb44ad55d2e189f18d3bd6017b">More...</a><br /></td></tr>
<tr class="separator:ab53aa0eb44ad55d2e189f18d3bd6017b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4450af0b39eff4084a86a7f9451e866e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4450af0b39eff4084a86a7f9451e866e">addToMatrix</a> (<a class="el" href="structmessage__t.html">message_t</a> a, int filenr)</td></tr>
<tr class="memdesc:a4450af0b39eff4084a86a7f9451e866e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a message to the buffer array. The buffer will be used to retrieve the pieces of files when the output file is rebuilt.  <a href="server_8c.html#a4450af0b39eff4084a86a7f9451e866e">More...</a><br /></td></tr>
<tr class="separator:a4450af0b39eff4084a86a7f9451e866e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3979b89e7153de6f4e9c4308d60403"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a6a3979b89e7153de6f4e9c4308d60403">findAndMakeFullFiles</a> (int righe)</td></tr>
<tr class="memdesc:a6a3979b89e7153de6f4e9c4308d60403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find 4 pieces of a file in the buffer matrix and then uses them to create and write an output file.  <a href="server_8c.html#a6a3979b89e7153de6f4e9c4308d60403">More...</a><br /></td></tr>
<tr class="separator:a6a3979b89e7153de6f4e9c4308d60403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e6720aaa086c84a4a489b3635fc9abb"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4e6720aaa086c84a4a489b3635fc9abb">prepareString</a> (<a class="el" href="structmessage__t.html">message_t</a> a)</td></tr>
<tr class="memdesc:a4e6720aaa086c84a4a489b3635fc9abb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the string to be written to the output file.  <a href="server_8c.html#a4e6720aaa086c84a4a489b3635fc9abb">More...</a><br /></td></tr>
<tr class="separator:a4e6720aaa086c84a4a489b3635fc9abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute operations termination performed with SIGINT: At the end close all IPCs.  <a href="server_8c.html#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a77a24092b59397ed6c2aad5c0de0cefd"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a77a24092b59397ed6c2aad5c0de0cefd">CURRENT_DIRECTORY</a> [<a class="el" href="defines_8h.html#a22ad48d95fdd6689ea92e17ca5bbfccb">BUFFER_SZ</a>] = &quot;&quot;</td></tr>
<tr class="memdesc:a77a24092b59397ed6c2aad5c0de0cefd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execution path of the server.  <a href="server_8c.html#a77a24092b59397ed6c2aad5c0de0cefd">More...</a><br /></td></tr>
<tr class="separator:a77a24092b59397ed6c2aad5c0de0cefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e51f6e74ef591eef5a08e4a5a2d5ea8"><td class="memItemLeft" align="right" valign="top"><a id="a0e51f6e74ef591eef5a08e4a5a2d5ea8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a0e51f6e74ef591eef5a08e4a5a2d5ea8">fifo1_fd</a> = -1</td></tr>
<tr class="memdesc:a0e51f6e74ef591eef5a08e4a5a2d5ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">file descriptor of the server's FIFO 1. <br /></td></tr>
<tr class="separator:a0e51f6e74ef591eef5a08e4a5a2d5ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a1b7b9ae118e79117db0755b4588077"><td class="memItemLeft" align="right" valign="top"><a id="a4a1b7b9ae118e79117db0755b4588077"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a4a1b7b9ae118e79117db0755b4588077">fifo2_fd</a> = -1</td></tr>
<tr class="memdesc:a4a1b7b9ae118e79117db0755b4588077"><td class="mdescLeft">&#160;</td><td class="mdescRight">file descriptor of the server's FIFO 2. <br /></td></tr>
<tr class="separator:a4a1b7b9ae118e79117db0755b4588077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73e6a837794db6e63f23db2d64a8130"><td class="memItemLeft" align="right" valign="top"><a id="ae73e6a837794db6e63f23db2d64a8130"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ae73e6a837794db6e63f23db2d64a8130">msqid</a> = -1</td></tr>
<tr class="memdesc:ae73e6a837794db6e63f23db2d64a8130"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message queue identifier. <br /></td></tr>
<tr class="separator:ae73e6a837794db6e63f23db2d64a8130"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c35ac5305085cf7360645b8d52988b5"><td class="memItemLeft" align="right" valign="top"><a id="a7c35ac5305085cf7360645b8d52988b5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a7c35ac5305085cf7360645b8d52988b5">semid</a> = -1</td></tr>
<tr class="memdesc:a7c35ac5305085cf7360645b8d52988b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">identifier of the semaphore. <br /></td></tr>
<tr class="separator:a7c35ac5305085cf7360645b8d52988b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45855624a1e5beb7859522cacbc8ca15"><td class="memItemLeft" align="right" valign="top"><a id="a45855624a1e5beb7859522cacbc8ca15"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a45855624a1e5beb7859522cacbc8ca15">semidFifo</a> = -1</td></tr>
<tr class="memdesc:a45855624a1e5beb7859522cacbc8ca15"><td class="mdescLeft">&#160;</td><td class="mdescRight">identifier of the semaphore for the fifos. <br /></td></tr>
<tr class="separator:a45855624a1e5beb7859522cacbc8ca15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8807d215d2ee6d9779d76aeb1147430"><td class="memItemLeft" align="right" valign="top"><a id="ac8807d215d2ee6d9779d76aeb1147430"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#ac8807d215d2ee6d9779d76aeb1147430">shmid</a> = -1</td></tr>
<tr class="memdesc:ac8807d215d2ee6d9779d76aeb1147430"><td class="mdescLeft">&#160;</td><td class="mdescRight">identifier of the shared memory. <br /></td></tr>
<tr class="separator:ac8807d215d2ee6d9779d76aeb1147430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cb27d8106b9e8eb81b1733b1d2b817"><td class="memItemLeft" align="right" valign="top"><a id="a97cb27d8106b9e8eb81b1733b1d2b817"></a>
<a class="el" href="structmessage__t.html">message_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a97cb27d8106b9e8eb81b1733b1d2b817">shm_message</a> = NULL</td></tr>
<tr class="memdesc:a97cb27d8106b9e8eb81b1733b1d2b817"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the shared memory that contains the messages. <br /></td></tr>
<tr class="separator:a97cb27d8106b9e8eb81b1733b1d2b817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a738b6f050b1d576fbd0ecdf567f2ff70"><td class="memItemLeft" align="right" valign="top"><a id="a738b6f050b1d576fbd0ecdf567f2ff70"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a738b6f050b1d576fbd0ecdf567f2ff70">shm_flag_ID</a> = -1</td></tr>
<tr class="memdesc:a738b6f050b1d576fbd0ecdf567f2ff70"><td class="mdescLeft">&#160;</td><td class="mdescRight">identifier to the shared memory flags <br /></td></tr>
<tr class="separator:a738b6f050b1d576fbd0ecdf567f2ff70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8501ee19bc291abf0c77a6d2416ab5e5"><td class="memItemLeft" align="right" valign="top"><a id="a8501ee19bc291abf0c77a6d2416ab5e5"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a8501ee19bc291abf0c77a6d2416ab5e5">shm_flag</a> = NULL</td></tr>
<tr class="memdesc:a8501ee19bc291abf0c77a6d2416ab5e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointer to the shared memory that contains the flags. <br /></td></tr>
<tr class="separator:a8501ee19bc291abf0c77a6d2416ab5e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97275ead849f1a920eb670a7ae981a48"><td class="memItemLeft" align="right" valign="top"><a id="a97275ead849f1a920eb670a7ae981a48"></a>
<a class="el" href="structmessage__t.html">message_t</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8c.html#a97275ead849f1a920eb670a7ae981a48">matriceFile</a> = NULL</td></tr>
<tr class="memdesc:a97275ead849f1a920eb670a7ae981a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">two-dimensional array that for every line contains the four parts of the files. <br /></td></tr>
<tr class="separator:a97275ead849f1a920eb670a7ae981a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains the main function of the server. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a4450af0b39eff4084a86a7f9451e866e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4450af0b39eff4084a86a7f9451e866e">&#9670;&nbsp;</a></span>addToMatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void addToMatrix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmessage__t.html">message_t</a>&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>righe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a message to the buffer array. The buffer will be used to retrieve the pieces of files when the output file is rebuilt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>message to insert in array </td></tr>
    <tr><td class="paramname">righe</td><td>- number of rows in the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a3979b89e7153de6f4e9c4308d60403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a3979b89e7153de6f4e9c4308d60403">&#9670;&nbsp;</a></span>findAndMakeFullFiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void findAndMakeFullFiles </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>righe</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find 4 pieces of a file in the buffer matrix and then uses them to create and write an output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">righe</td><td>- number of rows in the array </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute operations termination performed with SIGINT: At the end close all IPCs. </p>
<p>Memorizza il percorso passato come parametro, gestisce segnali e handler, attende i segnali SIGINT o SIGUSR1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Numero argomenti passati da linea di comando (compreso il nome dell'eseguibile) </td></tr>
    <tr><td class="paramname">argv</td><td>Array di argomenti passati da linea di comando </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Exit code dell'intero programma </dd></dl>

</div>
</div>
<a id="a4e6720aaa086c84a4a489b3635fc9abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e6720aaa086c84a4a489b3635fc9abb">&#9670;&nbsp;</a></span>prepareString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* prepareString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmessage__t.html">message_t</a>&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs the string to be written to the output file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>Message that came from server and that has to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* - string to be written to the output file </dd></dl>

</div>
</div>
<a id="a48d605ff689f470746c858648f0a98c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d605ff689f470746c858648f0a98c2">&#9670;&nbsp;</a></span>SIGINTSignalHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SIGINTSignalHandler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CLose all the IPCs and exit the program. </p>
<p>Handler del segnale SIGINT.</p>
<p>Non fa niente, permette solo al processo di risvegliarsi dal pause().</p>
<p>Le funzionalita' principali vengono eseguite da <a class="el" href="client_8h.html#a8c7084a254c7cd640d66e647795ff8f6">operazioni_client0()</a> e non qui per il seguente motivo: <a href="https://man7.org/linux/man-pages/man7/signal-safety.7.html">https://man7.org/linux/man-pages/man7/signal-safety.7.html</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sig</td><td>Valore intero corrispondente a SIGINT </td></tr>
  </table>
  </dd>
</dl>
<p>When performing buffered I/O on a file, the stdio functions must maintain a statically allocated data buffer along with associated counters and indexes (or pointers) that record the amount of data and the current position in the buffer. Suppose that the main program is in the middle of a call to a stdio function such as printf(3) where the buffer and associated variables have been partially updated. If, at that moment, the program is interrupted by a signal handler that also calls printf(3), then the second call to printf(3) will operate on inconsistent data, with unpredictable results.</p>

</div>
</div>
<a id="ab53aa0eb44ad55d2e189f18d3bd6017b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53aa0eb44ad55d2e189f18d3bd6017b">&#9670;&nbsp;</a></span>string_to_int()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string_to_int </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a string to int. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>- string to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int - converted string </dd></dl>
<p>Converts a string to an integer.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a77a24092b59397ed6c2aad5c0de0cefd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a24092b59397ed6c2aad5c0de0cefd">&#9670;&nbsp;</a></span>CURRENT_DIRECTORY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char CURRENT_DIRECTORY[<a class="el" href="defines_8h.html#a22ad48d95fdd6689ea92e17ca5bbfccb">BUFFER_SZ</a>] = &quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execution path of the server. </p>
<p>current working directory. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
